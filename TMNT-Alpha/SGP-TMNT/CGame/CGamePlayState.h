#pragma once

#include "IGameState.h"
#include "BaseMenuState.h"
#include "HUD.h"
#include "WorldMap.h"
#include "BattleMap.h"
#include "Map.h"

class CGamePlayState : public IGameState
{
private:
	BaseMenuState* m_pCurrentMenuState;
	HUD* m_pHUD;
	WorldMap* m_pWorldMap;
	BattleMap* m_pBattleMap;
	int m_nCurrentMap;

	// Constructor
	CGamePlayState(void);
	// Copy Constructor
	CGamePlayState(const CGamePlayState&);
	// Assignment Operator
	CGamePlayState& operator=(const CGamePlayState&);
	//Destructor
	~CGamePlayState(void);
public:
	///////////////////////////////////////////////////////////////////
	//	Function: GetInstance
	//
	//	Purpose: Init the instance and return a pointer to the instance
	///////////////////////////////////////////////////////////////////
	static CGamePlayState* GetInstance(void);
	///////////////////////////////////////////////////////////////////
	//	Function:	Enter
	//
	//	Purpose:	Enter and initialize the current state
	//////////////////////////////////////////////////////////////////
	void Enter(void);
	//////////////////////////////////////////////////////////////////
	//	Function: Exit
	//
	//	Purpose: Cleans up all the state info
	///////////////////////////////////////////////////////////////////
	void Exit(void);
	///////////////////////////////////////////////////////////////////
	//	Function: Input
	//
	//	Purpose: Read the input from the user
	/////////////////////////////////////////////////////////////////
	bool Input(void);
	/////////////////////////////////////////////////////////////////
	//	Function:	Update
	//
	//	Purpose:	Update the state objects
	////////////////////////////////////////////////////////////////
	void Update(float fElapsedTime);
	////////////////////////////////////////////////////////////////
	//	Function:	Render
	//
	//	Purpose:	Render the objects of the state
	////////////////////////////////////////////////////////////////
	void Render(void);
	////////////////////////////////////////////////////////////////
	//	Function:	MessageProc
	//
	//	Purpose:	Retrieves and handles the messages
	////////////////////////////////////////////////////////////////
	static friend void MessageProc(CBaseMessage* pMsg);
};